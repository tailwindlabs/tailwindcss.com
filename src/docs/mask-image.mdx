import { ApiTable } from "@/components/api-table.tsx";
import { CustomizingYourThemeColors, ResponsiveDesign, UsingACustomValue } from "@/components/content.tsx";
import { Example } from "@/components/example.tsx";
import { Figure } from "@/components/figure.tsx";
import { Stripes } from "@/components/stripes.tsx";

export const title = "mask-image";
export const description = "Utilities for controlling an element's mask image.";

<svg className="sr-only">
  <defs>
    <pattern id="checkerboard" x="0.5" y="0" width="10" height="10" patternUnits="userSpaceOnUse">
      <rect x="0" y="0" width="5" height="5" fill="#fff" />
      <rect x="5" y="0" width="5" height="5" fill="#808080" />
      <rect x="0" y="5" width="5" height="5" fill="#808080" />
      <rect x="5" y="5" width="5" height="5" fill="#fff" />
    </pattern>
  </defs>
</svg>

<svg className="hidden">
  <symbol id="gradient-color-stop" viewBox="0 0 32 34">
    <path
      fill="url(#checkerboard)"
      stroke="#000"
      strokeOpacity=".05"
      d="M5 .5h22A3.5 3.5 0 0 1 30.5 4v19.6a3.5 3.5 0 0 1-1.853 3.088L16 33.433 3.353 26.688A3.5 3.5 0 0 1 1.5 23.6V4A3.5 3.5 0 0 1 5 .5Z"
    />
    <path
      fill="currentColor"
      d="M1 4a4 4 0 0 1 4-4h22a4 4 0 0 1 4 4v19.6a4 4 0 0 1-2.118 3.53L16 34 3.118 27.13A4 4 0 0 1 1 23.6V4Z"
    />
  </symbol>
</svg>

<ApiTable
  rows={[
    ["mask-[<value>]", "mask-image: <value>;"],
    ["mask-(image:<custom-property>)", "mask-image: var(<custom-property>);"],
    ["mask-none", "mask-image: none;"],
    ["mask-linear-to-t", "mask-image: linear-gradient(to top, var(--tw-mask-gradient-stops));"],
    ["mask-linear-to-tr", "mask-image: linear-gradient(to top right, var(--tw-mask-gradient-stops));"],
    ["mask-linear-to-r", "mask-image: linear-gradient(to right, var(--tw-mask-gradient-stops));"],
    ["mask-linear-to-br", "mask-image: linear-gradient(to bottom right, var(--tw-mask-gradient-stops));"],
    ["mask-linear-to-b", "mask-image: linear-gradient(to bottom, var(--tw-mask-gradient-stops));"],
    ["mask-linear-to-bl", "mask-image: linear-gradient(to bottom left, var(--tw-mask-gradient-stops));"],
    ["mask-linear-to-l", "mask-image: linear-gradient(to left, var(--tw-mask-gradient-stops));"],
    ["mask-linear-to-tl", "mask-image: linear-gradient(to top left, var(--tw-mask-gradient-stops));"],
    ["mask-linear-<angle>", "mask-image: linear-gradient(<angle> in oklab, var(--tw-mask-gradient-stops));"],
    ["-mask-linear-<angle>", "mask-image: linear-gradient(-<angle> in oklab, var(--tw-mask-gradient-stops));"],
    [
      "mask-linear-(<custom-property>)",
      "mask-image: linear-gradient(var(--tw-mask-gradient-stops, var(<custom-property>)));",
    ],
    ["mask-linear-[<value>]", "mask-image: linear-gradient(var(--tw-mask-gradient-stops, <value>));"],
    ["mask-radial", "mask-image: radial-gradient(in oklab, var(--tw-mask-gradient-stops));"],
    [
      "mask-radial-(<custom-property>)",
      "mask-image: radial-gradient(var(--tw-mask-gradient-stops,  var(<custom-property>)));",
    ],
    ["mask-radial-[<value>]", "mask-image: radial-gradient(var(--tw-mask-gradient-stops, <value>));"],
    ["mask-conic-<angle>", "mask-image: conic-gradient(from <angle> in oklab, var(--tw-mask-gradient-stops));"],
    ["-mask-conic-<angle>", "mask-image: conic-gradient(from -<angle> in oklab, var(--tw-mask-gradient-stops));"],
    ["mask-conic-(<custom-property>)", "mask-image: var(<custom-property>);"],
    ["mask-conic-[<value>]", "mask-image: <image>;"],
    ["mask-from-<color>", "--tw-mask-gradient-from: <color>;"],
    ["mask-from-<percentage>", "--tw-mask-gradient-from-position: <percentage>;"],
    ["mask-from-(<custom-property>)", "--tw-mask-gradient-from: var(<custom-property>);"],
    ["mask-from-[<value>]", "--tw-mask-gradient-from: <value>;"],
    ["mask-via-<color>", "--tw-mask-gradient-via: <color>;"],
    ["mask-via-<percentage>", "--tw-mask-gradient-via-position: <percentage>;"],
    ["mask-via-(<custom-property>)", "--tw-mask-gradient-via: var(<custom-property>);"],
    ["mask-via-[<value>]", "--tw-mask-gradient-via: <value>;"],
    ["mask-to-<color>", "--tw-mask-gradient-to: <color>;"],
    ["mask-to-<percentage>", "--tw-mask-gradient-to-position: <percentage>;"],
    ["mask-to-(<custom-property>)", "--tw-mask-gradient-to: var(<custom-property>);"],
    ["mask-to-[<value>]", "--tw-mask-gradient-to: <value>;"],
  ]}
/>

## Examples

### Basic example

Use the `mask-[<value>]` syntax to set the mask image of an element:

<Figure>

<Example>

{

<Stripes
  border
  className="relative mx-auto flex h-48 w-96 items-center justify-center overflow-hidden rounded-lg sm:w-96"
>
  <div className="h-full w-full bg-[url(https://images.unsplash.com/photo-1554629947-334ff61d85dc?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1000&h=1000&q=80)] [mask-image:url(/mask.png)] bg-cover bg-center bg-no-repeat mask-[size:110%_90%] mask-center mask-no-repeat"></div>
</Stripes>

}

</Example>

```html
<!-- [!code classes:mask-[url(/img/scribble.png)]] -->
<div class="bg-[url(/img/mountains.jpg)] mask-[url(/img/scribble.png)] ..."></div>
```

</Figure>

### Adding a linear gradient mask

Use utilities like `mask-linear-to-r` and `mask-linear-<angle>` with the [mask color stop utilities](#setting-gradient-color-stops) to add a linear gradient mask to an element:

<Figure>

<Example padding={false}>
  {
    <div className="relative py-8">
      <div className="absolute inset-x-0 bottom-8 z-10 flex items-center justify-center">
        <button
          type="button"
          className="rounded-full bg-white px-4 py-2 text-sm font-semibold text-gray-900 shadow-xs ring-1 ring-gray-300 ring-inset hover:bg-gray-50 dark:bg-gray-950 dark:text-white dark:ring-white/20 dark:hover:bg-gray-900"
        >
          Show more
        </button>
      </div>
      <div className="border-y border-y-gray-200 bg-white mask-linear-to-b mask-from-white mask-from-70% dark:border-y-gray-800 dark:bg-gray-950">

        <div>
          <div className="inline-block min-w-full align-middle">
            <div className="overflow-hidden">
              <table className="min-w-full">
                <thead className="border-b border-gray-200 bg-gray-50 dark:border-gray-800 dark:bg-gray-950">
                  <tr>
                    <th scope="col" className="px-6 py-3 text-left text-sm font-medium text-gray-900 dark:text-white">
                      Name
                    </th>
                    <th scope="col" className="px-6 py-3 text-left text-sm font-medium text-gray-900 dark:text-white">
                      Title
                    </th>
                    <th scope="col" className="px-6 py-3 text-left text-sm font-medium text-gray-900 dark:text-white">
                      Email
                    </th>
                  </tr>
                </thead>
                <tbody>
                  <tr className="odd:bg-white even:bg-gray-50 dark:odd:bg-gray-900/50 dark:even:bg-gray-950">
                    <td className="px-6 py-4 text-sm font-medium whitespace-nowrap text-gray-900 dark:text-white">
                      Jane Cooper
                    </td>
                    <td className="px-6 py-4 text-sm whitespace-nowrap text-gray-600 dark:text-gray-400">
                      Regional Paradigm Technician
                    </td>
                    <td className="px-6 py-4 text-sm whitespace-nowrap text-gray-600 dark:text-gray-400">
                      jane.cooper@example.com
                    </td>
                  </tr>
                  <tr className="odd:bg-white even:bg-gray-50 dark:odd:bg-gray-900/50 dark:even:bg-gray-950">
                    <td className="px-6 py-4 text-sm font-medium whitespace-nowrap text-gray-900 dark:text-white">
                      Cody Fisher
                    </td>
                    <td className="px-6 py-4 text-sm whitespace-nowrap text-gray-600 dark:text-gray-400">
                      Product Directives Officer
                    </td>
                    <td className="px-6 py-4 text-sm whitespace-nowrap text-gray-600 dark:text-gray-400">
                      cody.fisher@example.com
                    </td>
                  </tr>
                  <tr className="odd:bg-white even:bg-gray-50 dark:odd:bg-gray-900/50 dark:even:bg-gray-950">
                    <td className="px-6 py-4 text-sm font-medium whitespace-nowrap text-gray-900 dark:text-white">
                      Leonard Krasner
                    </td>
                    <td className="px-6 py-4 text-sm whitespace-nowrap text-gray-600 dark:text-gray-400">
                      Senior Designer
                    </td>
                    <td className="px-6 py-4 text-sm whitespace-nowrap text-gray-600 dark:text-gray-400">
                      leonard.krasner@example.com
                    </td>
                  </tr>
                  <tr className="odd:bg-white even:bg-gray-50 dark:odd:bg-gray-900/50 dark:even:bg-gray-950">
                    <td className="px-6 py-4 text-sm font-medium whitespace-nowrap text-gray-900 dark:text-white">
                      Emily Selman
                    </td>
                    <td className="px-6 py-4 text-sm whitespace-nowrap text-gray-600 dark:text-gray-400">
                      VP, Hardware Engineering
                    </td>
                    <td className="px-6 py-4 text-sm whitespace-nowrap text-gray-600 dark:text-gray-400">
                      emily.selman@example.com
                    </td>
                  </tr>
                  <tr className="odd:bg-white even:bg-gray-50 dark:odd:bg-gray-900/50 dark:even:bg-gray-950">
                    <td className="px-6 py-4 text-sm font-medium whitespace-nowrap text-gray-900 dark:text-white">
                      Anna Roberts
                    </td>
                    <td className="px-6 py-4 text-sm whitespace-nowrap text-gray-600 dark:text-gray-400">
                      Chief Strategy Officer
                    </td>
                    <td className="px-6 py-4 text-sm whitespace-nowrap text-gray-600 dark:text-gray-400">
                      anna.roberts@example.com
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
    </div>

}

</Example>

```html
<!-- [!code classes:mask-linear-to-b] -->
<div class="relative">
  <div class="absolute inset-x-0 bottom-8 z-10 flex items-center justify-center">
    <button
      type="button"
      class="rounded-full bg-white px-4 py-2 text-sm font-semibold text-gray-900 dark:bg-gray-950 dark:text-white dark:ring-white/20 dark:hover:bg-gray-900 ..."
    >
      Show more
    </button>
  </div>
  <div class="max-h-96 mask-linear-to-b mask-from-white mask-from-70% ...">
    <table>
      <!-- ... -->
    </table>
  </div>
</div>
```

</Figure>

### Adding a radial gradient mask

Use the `mask-radial` and `mask-radial-[<position>]` utilities with the [mask color stop utilities](#setting-gradient-color-stops) to add a radial gradient mask to an element:

<Figure>

<Example>

{

<div className="flex items-center justify-center">
  <div className="relative">
    <img
      className="size-16 rounded-full mask-radial-[circle_at_85%_85%] mask-from-transparent mask-via-transparent mask-via-15% mask-to-white mask-to-15%"
      src="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80"
      alt="Tom Cook profile picture"
    />
    <div className="absolute right-1 bottom-1 size-3 rounded-full bg-emerald-400 ring inset-ring-1 ring-black/2.5 inset-ring-white/30"></div>
  </div>
  <div className="ml-3 text-sm font-medium">
    <p className="text-gray-700 dark:text-gray-300">Tom Cook</p>
    <p className="text-gray-500">Director of Operations</p>
  </div>
</div>

}

</Example>

```html
<!-- [!code classes:mask-radial-[circle_at_85%_85%]] -->
<div class="flex items-center justify-center">
  <div class="relative">
    <img
      class="size-16 rounded-full mask-radial-[circle_at_85%_85%] mask-from-transparent mask-via-transparent mask-via-15% mask-to-white mask-to-15%"
      src="/img/tom_cook.jpg"
    />
    <div
      class="absolute right-1 bottom-1 size-3 rounded-full bg-emerald-400 ring inset-ring-1 ring-black/2.5 inset-ring-white/30"
    ></div>
  </div>
  <div class="ml-3 text-sm font-medium">
    <p class="text-gray-700 dark:text-gray-300">Tom Cook</p>
    <p class="text-gray-500">Director of Operations</p>
  </div>
</div>
```

</Figure>

### Adding a conic gradient mask

Use the `mask-conic` and `mask-conic-<angle>` utilities with the [mask color stop utilities](#setting-mask-color-stops) to add a conic gradient mask to an element:

<Figure>

<Example >

{

<div className="mx-auto flex w-full max-w-sm items-center gap-5 rounded-xl bg-white p-4 shadow-lg ring-1 ring-black/5 dark:bg-gray-800">
  <div className="grid grid-cols-1 grid-rows-1">
    <div className="col-start-1 row-start-1 size-12 rounded-full border-4 border-black/10 dark:border-white/5" />
    <div className="col-start-1 row-start-1 size-12 rounded-full border-4 border-amber-500 mask-conic mask-from-white mask-via-white mask-via-75% mask-to-transparent mask-to-75% dark:border-amber-400" />
  </div>
  <div className="w-0 flex-1 text-sm text-gray-950 dark:text-white">
    <p className="font-medium">Storage used: 75%</p>
    <p className="mt-1 text-gray-500 dark:text-gray-400">
      <span className="font-medium">0.48 GB</span> out of 2 GB remaining
    </p>
  </div>
</div>
}

</Example>

```html
<!-- [!code classes:mask-conic] -->
<div class="flex items-center gap-5 rounded-xl bg-white p-4 shadow-lg ring-1 ring-black/5 dark:bg-gray-800">
  <div class="grid grid-cols-1 grid-rows-1">
    <div class="border-4 border-black/10 dark:border-white/5 ..."></div>
    <div
      class="border-4 border-amber-500 mask-conic mask-from-white mask-via-white mask-via-75% mask-to-transparent mask-to-75% dark:border-amber-400 ..."
    ></div>
  </div>
  <div class="w-0 flex-1 text-sm text-gray-950 dark:text-white">
    <p class="font-medium">Storage used: 75%</p>
    <p class="mt-1 text-gray-500 dark:text-gray-400"><span class="font-medium">0.48 GB</span> out of 2 GB remaining</p>
  </div>
</div>
```

</Figure>

### Setting mask color stops

Use utilities like `mask-from-white`, `mask-via-transparent`, and `mask-to-black` to set the colors of the mask gradient stops:

<Figure>

<Example>

{

<div className="mx-5">
  <div className="relative h-[3.625rem]">
    <div className="absolute top-0 left-px -ml-3 flex h-12 flex-col items-center">
      <svg viewBox="0 0 32 34" className="w-7 flex-none text-white drop-shadow">
        <use href="#gradient-color-stop" />
      </svg>
      <div className="mt-2 h-2 w-0.5 bg-gray-900/30 dark:bg-white/30"></div>
    </div>
    <div className="absolute top-0 left-1/2 -ml-3 flex h-12 flex-col items-center">
      <svg viewBox="0 0 32 34" className="w-7 flex-none text-white/70 drop-shadow">
        <use href="#gradient-color-stop" />
      </svg>
      <div className="mt-2 h-2 w-0.5 bg-gray-900/30 dark:bg-white/30"></div>
    </div>
    <div className="absolute top-0 right-px -mr-3 flex h-12 flex-col items-center">
      <svg viewBox="0 0 32 34" className="w-7 flex-none text-transparent drop-shadow">
        <use href="#gradient-color-stop" />
      </svg>
      <div className="mt-2 h-2 w-0.5 bg-gray-900/30 dark:bg-white/30"></div>
    </div>
  </div>
  <div className="relative">
    <div className="relative z-10 h-64 rounded-lg bg-[url(https://images.unsplash.com/photo-1554629947-334ff61d85dc?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1000&h=1000&q=80)] mask-linear-to-r mask-from-white mask-via-white/70 mask-to-transparent bg-cover bg-center mask-alpha"></div>
    <Stripes className="absolute inset-0 rounded-lg" border />
  </div>
</div>
}

</Example>

```html
<!-- [!code classes:mask-from-white,mask-via-white/70,mask-to-transparent] -->
<div
  class="bg-[url(/img/mountains.jpg)] mask-linear-to-r mask-from-white mask-via-white/70 mask-to-transparent ..."
></div>
```

</Figure>

Although you can specify any color value for the mask stops, the visibility of a stop depends on the [`mask-mode`](./docs/mask-mode) property.

When using `mask-mode:luminance`, the luminance value of the color stop determines visibility, so sticking with grayscale colors will produce the most predictable results. With `mask-mode:alpha`, the opacity of the color stop determines the visibility of the masked element.

### Setting mask stop positions

Use utilities like `mask-from-10%`, `mask-via-30%`, and `mask-to-90%` to set more precise positions for the mask gradient color stops:

<Figure>

<Example>
{

<div className="mx-5 py-2">
  <div className="relative h-[3.625rem]">
    <div className="absolute top-0 left-[10%] -ml-3 flex h-12 flex-col items-center">
      <svg viewBox="0 0 32 34" className="w-7 flex-none text-white drop-shadow">
        <use href="#gradient-color-stop" />
      </svg>
      <div className="mt-2 h-2 w-0.5 bg-gray-900/30 dark:bg-white/30">
        <div className="absolute -top-7 left-0 flex h-8 w-full items-center justify-center font-mono text-[0.6875rem] font-semibold tracking-wider text-gray-950 dark:text-white">
          10%
        </div>
      </div>
    </div>
    <div className="absolute top-0 left-[30%] -ml-3 flex h-12 flex-col items-center">
      <svg viewBox="0 0 32 34" className="w-7 flex-none text-white/70 drop-shadow">
        <use href="#gradient-color-stop" />
      </svg>
      <div className="mt-2 h-2 w-0.5 bg-gray-900/30 dark:bg-white/30">
        <div className="absolute -top-7 left-0 flex h-8 w-full items-center justify-center font-mono text-[0.6875rem] font-semibold tracking-wider text-gray-950 dark:text-white">
          30%
        </div>
      </div>
    </div>
    <div className="absolute top-0 right-[10%] -mr-3 flex h-12 flex-col items-center">
      <svg viewBox="0 0 32 34" className="w-7 flex-none text-transparent drop-shadow">
        <use href="#gradient-color-stop" />
      </svg>
      <div className="mt-2 h-2 w-0.5 bg-gray-900/30 dark:bg-white/30">
        <div className="absolute -top-7 left-0 flex h-8 w-full items-center justify-center font-mono text-[0.6875rem] font-semibold tracking-wider text-gray-950 dark:text-white">
          90%
        </div>
      </div>
    </div>
  </div>
  <div className="relative">
    <div className="relative z-10 h-64 rounded-lg bg-[url(https://images.unsplash.com/photo-1554629947-334ff61d85dc?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1000&h=1000&q=80)] mask-linear-to-r mask-from-white mask-from-10% mask-via-white/70 mask-via-30% mask-to-transparent mask-to-90% bg-cover bg-center"></div>
    <Stripes className="absolute inset-0 rounded-lg" border />
  </div>
  <Stripes />
</div>

}

</Example>

```html
<!-- [!code classes:mask-from-10%,mask-via-30%,mask-to-90%] -->
<div
  class="bg-[url(/img/mountains.jpg)] mask-linear-to-r mask-from-white mask-from-10% mask-via-white/70 mask-via-30% mask-to-transparent mask-to-90% ..."
></div>
```

</Figure>

### Removing mask images

Use the `mask-none` utility to remove an existing mask image from an element:

```html
<!-- [!code classes:mask-none] -->
<div class="mask-none"></div>
```

### Using a custom value

<UsingACustomValue
  utilities={["mask-linear", "mask-from"]}
  name="mask image"
  value="25deg,red_5%,yellow_60%,lime_90%,teal"
  variable="mask"
/>

### Responsive design

<ResponsiveDesign property="mask-image" defaultClass="mask-from-70%" featuredClass="mask-from-50%" />

## Customizing your theme

<CustomizingYourThemeColors utilities={["mask-from", "mask-via", "mask-to"]} />
