import { adamwathan } from "@/app/blog/authors";
import card from "./card.jpg";
import Image from "next/image";
import { Figure } from "@/components/figure";
import { Example } from "@/components/example";
import { Stripes } from "@/components/stripes";
import { CodeExampleStack } from "@/components/code-example";

export const meta = {
  title: "Tailwind CSS v4.1: Text shadows, masks, and pointer media queries",
  description: `A brand new point release with text shadows, mask utilities, and new variants for building better interactive experiences.`,
  date: "2025-03-31T12:00:00.000Z",
  authors: [adamwathan],
  image: card,
  excerpt: (
    <>
      Hot on the heels of Tailwind CSS v4.0, we're excited to release v4.1 with a bunch of powerful new features
      including text shadows, mask utilities, and new variants for building better interactive experiences.
    </>
  ),
};

<Image src={card} alt="Tailwind CSS v4.1" />

Tailwind CSS v4.0 is only a few months old, but because we love open source so much, we couldn't resist the urge to add even more features. Tailwind CSS v4.1 is packed with new utilities and variants that will help you build better interactive experiences.

We all know that your AI assistant still thinks it's 2023, so here's a list of new features in this release you can paste into your chat window:

- [New `text-shadow-*` utilities](#new-text-shadow-utilities): Finally, you can use a feature that has been in CSS since 2009.
- [Mask elements with the `mask-*` utilities](#mask-elements-with-the-mask-utilities): Use images and gradients to mask the visibility of elements.
- [Fine-grained text wrapping with `overflow-wrap`](#fine-grained-text-wrapping-with-overflow-wrap): Even the longest German word can't break your layout.
- [Target input devices with `pointer-*` and `any-pointer-*`](#target-input-devices-with-pointer-and-any-pointer): Touch targets just got easier to style.
- [Align items with `items-baseline-last`](#align-items-with-items-baseline-last): Align flex or grid items to the baseline of the last line of text.
- [Keep content visible with `safe` alignment](#keep-content-visible-with-safe-alignment): Safely align content without worrying about overflow.
- [Ignore specific paths with `@source not`](#ignore-specific-paths-with-source-not): Fine-tune the paths that Tailwind scans for classes.
- [Safelist specific utilities with `@source inline(…)`](#safelist-specific-utilities-with-source-inline): Include classes that aren't in your source files.
- [A bunch of new variants](#a-bunch-of-new-variants): Build better interactive experiences with `noscript`, `user-valid`, and more.

That's all the cool stuff, but to keep you on your toes there's a few other things in the [release notes](https://github.com/tailwindlabs/tailwindcss/releases/tag/v4.1.0) that you should check out too.

Upgrade your projects by installing the latest version of `tailwindcss` from npm:

```sh
npm install tailwindcss@latest
```

---

## New `text-shadow-*` utilities

We've been threatening to add text shadows for at least the last six years and today they are finally here - It's just a pity no one uses them anymore.

Five text shadows have been added to the default theme, from `text-shadow-2xs` to `text-shadow-lg`. They are particularly useful for making headings stand out against a busy background:

<Figure>

<Example padding={false}>

{

<div className="relative grid items-center gap-4 bg-white px-6 py-14 text-center text-2xl font-semibold text-white">
  <div className="absolute inset-0 bg-[url('https://images.unsplash.com/photo-1635776063328-153b13e3c245?q=80&w=3432&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D')] bg-size-[150%_200%] bg-left opacity-75" />
  <p className="relative text-shadow-2xs">The quick brown fox jumps over the lazy dog.</p>
  <p className="relative text-shadow-xs">The quick brown fox jumps over the lazy dog.</p>
  <p className="relative text-shadow-sm">The quick brown fox jumps over the lazy dog.</p>
  <p className="relative text-shadow-md">The quick brown fox jumps over the lazy dog.</p>
  <p className="relative text-shadow-lg">The quick brown fox jumps over the lazy dog.</p>
</div>

}

</Example>

```html
<!-- [!code classes:text-shadow-2xs,text-shadow-xs,text-shadow-sm,text-shadow-md,text-shadow-lg,text-shadow-xl] -->
<p class="text-shadow-2xs ...">...</p>
<p class="text-shadow-xs ...">...</p>
<p class="text-shadow-sm ...">...</p>
<p class="text-shadow-md ...">...</p>
<p class="text-shadow-lg ...">...</p>
```

</Figure>

You can change the color of the shadow using the `text-shadow-<color>` utilities. For instance, you can create a pseudo embossed effect by using a small white shadow on dark text:

<Figure>

<Example>
  {
    <div className="relative grid h-48 place-items-center">
      <div className="-ml-10 flex gap-4 max-sm:-ml-20">
        <button className="relative rounded-full bg-linear-to-b from-white/10 to-white/20 to-70% px-4 py-2 text-sm font-semibold text-black shadow-md ring inset-shadow-2xs ring-black/20 inset-shadow-white/10 text-shadow-2xs dark:text-white">
          See pricing
        </button>
        <button className="relative rounded-full bg-linear-to-b from-fuchsia-300 to-fuchsia-400 to-70% px-4 py-2 text-sm font-semibold text-fuchsia-950 shadow-md ring inset-shadow-2xs ring-fuchsia-500 inset-shadow-white/20 text-shadow-2xs text-shadow-white/50 dark:ring-fuchsia-500/50">
          Book a demo
          <div className="absolute top-1/2 -right-full size-40 -translate-y-1/2 overflow-hidden rounded-full shadow-lg outline-2 outline-black/20 dark:outline-white/10">
            <div className="absolute right-[75%] -bottom-9 grid h-20 w-40 scale-[400%] rounded-full bg-linear-to-b from-fuchsia-300 to-fuchsia-400 to-50% px-4 py-2.5 text-sm font-semibold text-fuchsia-950 text-shadow-2xs text-shadow-white/50 dark:ring-fuchsia-500/50">
              Book a demo
            </div>
          </div>
        </button>
      </div>
    </div>
  }
</Example>

```html
<!-- [!code classes:text-shadow-white/50] -->
<div class="flex gap-4">
  <button class="text-black text-shadow-2xs dark:text-white ...">See pricing</button>
  <button class="text-fuchsia-950 text-shadow-2xs text-shadow-white/50 ...">Book a demo</button>
</div>
```

</Figure>

Like with any color, you can control the opacity of a text shadow color with an opacity modifier but we've also added the ability to control the opacity of the default text shadow color.

For example, `text-shadow-lg/50` is the same as setting `text-shadow-lg` and `text-shadow-black/50` at the same time:

<Figure>

<Example padding={false}>

{

<div className="relative grid items-center gap-4 bg-white px-6 py-14 text-center text-2xl font-semibold text-white">
  <div className="absolute inset-0 bg-[url('https://images.unsplash.com/photo-1635776063328-153b13e3c245?q=80&w=3432&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D')] bg-size-[150%_200%] bg-left opacity-75" />
  <p className="relative text-shadow-lg">The quick brown fox jumps over the lazy dog.</p>
  <p className="relative text-shadow-lg/20">The quick brown fox jumps over the lazy dog.</p>
  <p className="relative text-shadow-lg/30">The quick brown fox jumps over the lazy dog.</p>
</div>

}

</Example>

```html
<!-- [!code classes:text-shadow-lg/20,text-shadow-lg/30] -->
<p class="text-shadow-lg ...">...</p>
<p class="text-shadow-lg/20 ...">...</p>
<p class="text-shadow-lg/30 ...">...</p>
```

</Figure>

We've also added the same opacity modifiers to the [`drop-shadow`](#filter-drop-shadow) and [`box-shadow`](#box-shadow) utilities. Check out the [`text-shadow`](/docs/text-shadow) docs for more details.

---

## Mask elements with the `mask-*` utilities

One of the coolest features of modern CSS is the ability to use images and gradients as masks - basically using the opacity of an image to control the visibility of an element:

<Figure>

<Example padding={false}>

{

<div className="mx-auto flex items-center p-16 max-sm:p-6">
  <div className="bg-repeat-none aspect-square max-h-72 w-full bg-[url(/keyboard-light.png)] mask-radial-[100%_200%] mask-radial-from-transparent mask-radial-from-15% mask-radial-to-black mask-radial-to-60% mask-radial-at-right bg-cover bg-no-repeat dark:bg-[url(/keyboard-dark.png)]" />
  <div className="font-medium max-sm:-mx-3">
    <p className="font-mono text-xs text-blue-500 uppercase dark:text-blue-400">Speed</p>
    <p className="mt-2 text-base whitespace-nowrap text-gray-700 dark:text-gray-300">Built for power users</p>
    <p className="mt-1 text-sm leading-relaxed text-balance text-gray-500">
      Work faster than ever with our keyboard shortcuts
    </p>
  </div>
</div>

}

</Example>

```html
<!-- [!code classes:mask-radial-from-transparent,mask-radial-from-15%,mask-radial-to-black,mask-radial-to-55%,mask-radial-at-right] -->
<div class="mx-auto flex items-center p-16 max-sm:p-8">
  <div
    class="bg-[url(/img/keyboard.png)] mask-radial-from-transparent mask-radial-from-15% mask-radial-to-black mask-radial-to-55% mask-radial-at-right ..."
  ></div>
  <div class="font-medium">
    <p class="font-mono text-xs text-blue-500 uppercase dark:text-blue-400">Speed</p>
    <p class="mt-2 text-base text-gray-700 dark:text-gray-300">Built for power users</p>
    <p class="mt-1 text-sm leading-relaxed text-balance text-gray-500">
      Work faster than ever with our keyboard shortcuts
    </p>
  </div>
</div>
```

</Figure>

Because you can use any `background-image` as a mask, the logical thing to do was to copy the `bg-*` utilities so they share the same API. The problem with that approach is you often want to combine multiple masks together and the `bg-*` utilities are not composable.

So instead, we created a new set of utilities to work with `mask-image` that are composable and purpose-built for the masking use case. For example, you can use utilities like `mask-b-from-<value>` and `mask-t-to-<value>` to add a linear gradient mask to a single side of an element:

<Figure>

<Example >

{

<div className="grid grid-cols-2 items-end gap-x-2 gap-y-8 p-8 text-center font-mono text-sm font-medium text-gray-500 max-sm:justify-between max-sm:px-2 dark:text-gray-400">
  <div className="flex flex-col items-center text-xs">
    <p>mask-t-from-50%</p>
    <Stripes className="mt-3 aspect-[1.33] w-56 rounded-lg max-sm:w-32" border>
      <div className="h-full rounded-lg bg-[url(https://images.unsplash.com/photo-1554629947-334ff61d85dc?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1000&h=1000&q=80)] mask-t-from-50% bg-cover bg-center mask-no-repeat"></div>
    </Stripes>
  </div>
  <div className="flex flex-col items-center text-xs">
    <p>mask-r-from-30%</p>
    <Stripes className="mt-3 aspect-[1.33] w-56 rounded-lg max-sm:w-32" border>
      <div className="h-full rounded-lg bg-[url(https://images.unsplash.com/photo-1554629947-334ff61d85dc?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1000&h=1000&q=80)] mask-r-from-white mask-r-from-30% bg-cover bg-center mask-no-repeat"></div>
    </Stripes>
  </div>
  <div className="flex flex-col items-center text-xs">
    <p>mask-l-from-50%</p>
    <p>mask-l-to-90%</p>
    <Stripes className="mt-3 aspect-[1.33] w-56 rounded-lg max-sm:w-32" border>
      <div className="h-full rounded-lg bg-[url(https://images.unsplash.com/photo-1554629947-334ff61d85dc?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1000&h=1000&q=80)] mask-l-from-50% mask-l-to-90% bg-cover bg-center mask-no-repeat"></div>
    </Stripes>
  </div>
  <div className="flex flex-col items-center text-xs">
    <p>mask-b-from-20%</p>
    <p>mask-b-to-80%</p>
    <Stripes className="mt-3 aspect-[1.33] w-56 rounded-lg max-sm:w-32" border>
      <div className="h-full rounded-lg bg-[url(https://images.unsplash.com/photo-1554629947-334ff61d85dc?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1000&h=1000&q=80)] mask-b-from-20% mask-b-to-80% bg-cover bg-center mask-no-repeat"></div>
    </Stripes>
  </div>
</div>

}

</Example>

```html
<!-- [!code classes:mask-t-from-50%,mask-r-from-30%,mask-r-to-90%,mask-b-from-50%,mask-b-to-90%,mask-l-from-20%,mask-l-to-80%] -->
<div class="mask-t-from-50% ..."></div>
<div class="mask-r-from-30% ..."></div>
<div class="mask-b-from-50% mask-b-to-90% ..."></div>
<div class="mask-l-from-20% mask-l-to-80% ..."></div>
```

 </Figure>

It's more natural to think about which side you want to mask, rather than trying to work out the exact gradient you need to use.

The gradient mask utilities are also composable, so you can combine them to create more complex masks. You can combine radial, conic and linear gradients together to achieve some really wild effects:

<Figure>

<Example>

{

<div className="grid grid-cols-2 items-end gap-x-2 gap-y-8 p-8 text-center font-mono text-sm font-medium text-gray-500 max-sm:justify-between max-sm:px-2 dark:text-gray-400">
  <div className="flex flex-col items-center text-xs">
    <Stripes className="aspect-[1.33] w-56 rounded-lg max-sm:w-32" border>
      <div className="h-full rounded-lg bg-[url(https://images.unsplash.com/photo-1554629947-334ff61d85dc?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1000&h=1000&q=80)] mask-r-from-80% mask-b-from-80% mask-radial-from-70% mask-radial-to-85% mask-circle mask-radial-at-top-left bg-cover bg-center mask-no-repeat"></div>
    </Stripes>
  </div>
  <div className="flex flex-col items-center text-xs">
    <Stripes className="aspect-[1.33] w-56 rounded-lg max-sm:w-32" border>
      <div className="h-full rounded-lg bg-[url(https://images.unsplash.com/photo-1554629947-334ff61d85dc?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1000&h=1000&q=80)] mask-y-from-80% mask-x-from-80% bg-cover bg-center mask-no-repeat"></div>
    </Stripes>
  </div>
  <div className="flex flex-col items-center text-xs">
    <Stripes className="aspect-[1.33] w-56 rounded-lg max-sm:w-32" border>
      <div className="h-full rounded-lg bg-[url(https://images.unsplash.com/photo-1554629947-334ff61d85dc?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1000&h=1000&q=80)] mask-b-from-50% mask-radial-[50%_90%] mask-radial-from-80% mask-radial-at-bottom bg-cover bg-center mask-no-repeat"></div>
    </Stripes>
  </div>
  <div className="flex flex-col items-center text-xs">
    <Stripes className="aspect-[1.33] w-56 rounded-lg max-sm:w-32" border>
      <div className="h-full rounded-lg bg-[url(https://images.unsplash.com/photo-1554629947-334ff61d85dc?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1000&h=1000&q=80)] mask-t-from-80% mask-t-to-80% mask-r-from-80% mask-r-to-80% mask-conic-305 mask-conic-from-50% mask-conic-to-50% bg-cover bg-center mask-size-[2.5%_3.25%]"></div>
    </Stripes>
  </div>
</div>

}

</Example>

```html
<!-- [!code classes:mask-r-from-80%,mask-b-from-80%,mask-radial-from-70%,mask-radial-to-85%,mask-y-from-80%,mask-x-from-80%,mask-b-from-50%,mask-radial-from-80%,mask-t-from-80%,mask-t-to-80%,mask-r-from-80%,mask-r-to-80%,mask-conic-305,mask-conic-from-50%,mask-conic-to-50%,mask-size-[2.5%_3.25%] -->
<div class="mask-r-from-80% mask-b-from-80% mask-radial-from-70% mask-radial-to-85% ..."></div>
<div class="mask-y-from-80% mask-x-from-80%"></div>
<div class="mask-b-from-50% mask-radial-[50%_90%] mask-radial-from-80% ..."></div>
<div
  class="mask-t-from-80% mask-t-to-80% mask-r-from-80% mask-r-to-80% mask-conic-305 mask-conic-from-50% mask-conic-to-50% mask-size-[2.5%_3.25%] ..."
></div>
```

</Figure>

Masking is a super powerful technique and there's a lot more to the API than we can cover here. For a full breakdown of the new utilities, check out the [documentation](/docs/mask-image).

---

## Fine-grained text wrapping with `overflow-wrap`

The new `overflow-wrap` utilities let you control how text wraps within an element. The `wrap-break-word` utility is especially useful for long words or URLs that might otherwise break your layout:

<Figure>

<Example padding={false}>
  {
    <p className="mx-auto max-w-xs border-x border-x-pink-400/30 py-8 wrap-break-word text-gray-900 dark:text-gray-200">
      The longest word in any of the major English language dictionaries is{" "}
      <span className="font-bold">pneumonoultramicroscopicsilicovolcanoconiosis,</span> a word that refers to a lung
      disease contracted from the inhalation of very fine silica particles, specifically from a volcano; medically, it
      is the same as silicosis.
    </p>
  }
</Example>

```html
<!-- [!code classes:wrap-break-word] -->
<p class="wrap-break-word">The longest word in any of the major...</p>
```

</Figure>

The one case where this doesn't quite behave like you'd expect is inside a flex container and that's where you probably want to use the new `wrap-anywhere` utility instead.

It's similar to `wrap-break-word`, but it allows mid-word line breaks when calculating the intrinsic size of the element, replacing the need to set `min-width: 0` on the child element:

<Figure>

<Example>

{

<div>
  <p className="mb-3 text-center font-mono text-sm font-medium text-gray-500 dark:text-gray-400">wrap-break-word</p>
  <div className="mx-auto flex max-w-sm items-center gap-4 rounded-xl bg-white p-3 shadow-sm ring ring-black/2.5 dark:bg-black/10 dark:ring-white/10">
    <img
      className="size-16 rounded-full outline -outline-offset-1 outline-black/10 dark:outline-white/10"
      src="https://images.unsplash.com/photo-1500648767791-00dcc994a43e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80"
      alt=""
    />
    <div className="wrap-break-word">
      <p className="text-sm font-medium text-gray-900 dark:text-white">Jay Riemenschneider</p>
      <p className="text-sm text-gray-500 dark:text-gray-400">jason.riemenschneider@vandelayindustries.com</p>
    </div>
  </div>
  <p className="mt-8 mb-3 text-center font-mono text-sm font-medium text-gray-500 dark:text-gray-400">wrap-anywhere</p>
  <div className="mx-auto flex max-w-sm items-center gap-4 rounded-xl bg-white p-3 shadow-sm ring ring-black/2.5 dark:bg-black/10 dark:ring-white/10">
    <img
      className="size-16 rounded-full outline -outline-offset-1 outline-black/10 dark:outline-white/10"
      src="https://images.unsplash.com/photo-1500648767791-00dcc994a43e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80"
      alt=""
    />
    <div className="wrap-anywhere">
      <p className="text-sm font-medium text-gray-900 dark:text-white">Jay Riemenschneider</p>
      <p className="text-sm text-gray-500 dark:text-gray-400">jason.riemenschneider@vandelayindustries.com</p>
    </div>
  </div>
</div>
}

</Example>

```html
<!-- [!code classes:wrap-anywhere,wrap-break-word] -->
<div class="flex max-w-sm">
  <img class="size-16 rounded-full" src="/img/profile.jpg" />
  <div class="wrap-break-word">
    <p class="font-medium">Jay Riemenschneider</p>
    <p>jason.riemenschneider@vandelayindustries.com</p>
  </div>
</div>
<div class="flex max-w-sm">
  <img class="size-16 rounded-full" src="/img/profile.jpg" />
  <div class="wrap-anywhere">
    <p class="font-medium">Jay Riemenschneider</p>
    <p>jason.riemenschneider@vandelayindustries.com</p>
  </div>
</div>
```

</Figure>

There's not much more to it than that, but here's the [`overflow-wrap`](/docs/overflow-wrap) documentation if you want to read it again in slightly different words.

---

## Target input devices with `pointer-*` and `any-pointer-*`

There's nothing worse than a touch target that is too small to hit with your finger. The new `pointer-*` and `any-pointer-*` variants let you target specific input devices, so you can style your interface elements accordingly.

The `pointer-fine` variant targets an accurate pointing device, like a mouse or trackpad, while the `pointer-coarse` variant targets less accurate pointing devices, like a touchscreen:

<Figure hint="Try emulating a touch device in your developer tools to see the changes">

<Example>
  {
    <fieldset aria-label="Choose a memory option" className="mx-auto max-w-md">
      <div className="flex items-center justify-between">
        <div className="text-sm/6 font-medium text-gray-900 dark:text-white">RAM</div>
        <a href="#" className="text-sm/6 font-medium text-indigo-600 hover:text-indigo-500 dark:text-indigo-400">
          See performance specs
        </a>
      </div>
      <div className="mt-4 grid grid-cols-6 gap-2 max-sm:grid-cols-3 pointer-coarse:mt-6 pointer-coarse:grid-cols-3 pointer-coarse:gap-4">
        <label className="flex items-center justify-center rounded-md bg-white p-2 text-sm font-semibold text-gray-900 uppercase ring-1 ring-gray-300 not-data-focus:not-has-checked:ring-inset hover:bg-gray-50 has-checked:bg-indigo-600 has-checked:text-white has-checked:ring-0 has-checked:hover:bg-indigo-500 data-focus:ring-2 data-focus:ring-indigo-600 data-focus:ring-offset-2 data-focus:has-checked:ring-2 sm:flex-1 dark:bg-transparent dark:text-white dark:ring-white/20 dark:hover:bg-gray-950/50 pointer-coarse:p-4">
          <input type="radio" name="memory-option" value="4 GB" className="sr-only" />
          <span>4 GB</span>
        </label>
        <label className="flex items-center justify-center rounded-md bg-white p-2 text-sm font-semibold text-gray-900 uppercase ring-1 ring-gray-300 not-data-focus:not-has-checked:ring-inset hover:bg-gray-50 has-checked:bg-indigo-600 has-checked:text-white has-checked:ring-0 has-checked:hover:bg-indigo-500 data-focus:ring-2 data-focus:ring-indigo-600 data-focus:ring-offset-2 data-focus:has-checked:ring-2 sm:flex-1 dark:bg-transparent dark:text-white dark:ring-white/20 dark:hover:bg-gray-950/50 pointer-coarse:p-4">
          <input type="radio" name="memory-option" value="8 GB" className="sr-only" defaultChecked />
          <span>8 GB</span>
        </label>
        <label className="flex items-center justify-center rounded-md bg-white p-2 text-sm font-semibold text-gray-900 uppercase ring-1 ring-gray-300 not-data-focus:not-has-checked:ring-inset hover:bg-gray-50 has-checked:bg-indigo-600 has-checked:text-white has-checked:ring-0 has-checked:hover:bg-indigo-500 data-focus:ring-2 data-focus:ring-indigo-600 data-focus:ring-offset-2 data-focus:has-checked:ring-2 sm:flex-1 dark:bg-transparent dark:text-white dark:ring-white/20 dark:hover:bg-gray-950/50 pointer-coarse:p-4">
          <input type="radio" name="memory-option" value="16 GB" className="sr-only" />
          <span>16 GB</span>
        </label>
        <label className="flex items-center justify-center rounded-md bg-white p-2 text-sm font-semibold text-gray-900 uppercase ring-1 ring-gray-300 not-data-focus:not-has-checked:ring-inset hover:bg-gray-50 has-checked:bg-indigo-600 has-checked:text-white has-checked:ring-0 has-checked:hover:bg-indigo-500 data-focus:ring-2 data-focus:ring-indigo-600 data-focus:ring-offset-2 data-focus:has-checked:ring-2 sm:flex-1 dark:bg-transparent dark:text-white dark:ring-white/20 dark:hover:bg-gray-950/50 pointer-coarse:p-4">
          <input type="radio" name="memory-option" value="32 GB" className="sr-only" />
          <span>32 GB</span>
        </label>
        <label className="flex items-center justify-center rounded-md bg-white p-2 text-sm font-semibold text-gray-900 uppercase ring-1 ring-gray-300 not-data-focus:not-has-checked:ring-inset hover:bg-gray-50 has-checked:bg-indigo-600 has-checked:text-white has-checked:ring-0 has-checked:hover:bg-indigo-500 data-focus:ring-2 data-focus:ring-indigo-600 data-focus:ring-offset-2 data-focus:has-checked:ring-2 sm:flex-1 dark:bg-transparent dark:text-white dark:ring-white/20 dark:hover:bg-gray-950/50 pointer-coarse:p-4">
          <input type="radio" name="memory-option" value="64 GB" className="sr-only" />
          <span>64 GB</span>
        </label>
        <label className="flex items-center justify-center rounded-md bg-white p-2 text-sm font-semibold text-gray-900 uppercase ring-1 ring-gray-300 not-data-focus:not-has-checked:ring-inset hover:bg-gray-50 has-checked:bg-indigo-600 has-checked:text-white has-checked:ring-0 has-checked:hover:bg-indigo-500 data-focus:ring-2 data-focus:ring-indigo-600 data-focus:ring-offset-2 data-focus:has-checked:ring-2 sm:flex-1 dark:bg-transparent dark:text-white dark:ring-white/20 dark:hover:bg-gray-950/50 pointer-coarse:p-4">
          <input type="radio" name="memory-option" value="128 GB" className="sr-only" />
          <span>128 GB</span>
        </label>
      </div>
    </fieldset>
  }
</Example>

```html
<!-- [!code classes:pointer-coarse:mt-6,pointer-coarse:grid-cols-3,pointer-coarse:gap-4,pointer-coarse:p-4] -->
<fieldset aria-label="Choose a memory option">
  <div class="flex items-center justify-between">
    <div>RAM</div>
    <a href="#"> See performance specs </a>
  </div>
  <div class="mt-4 grid grid-cols-6 gap-2 pointer-coarse:mt-6 pointer-coarse:grid-cols-3 pointer-coarse:gap-4">
    <label class="p-2 pointer-coarse:p-4 ...">
      <input type="radio" name="memory-option" value="4 GB" className="sr-only" />
      <span>4 GB</span>
    </label>
    <!-- ... -->
  </div>
</fieldset>
```

</Figure>

If you're on your phone, you'll see the `pointer-coarse` styles applied, which make the touch targets larger and easier to hit. If you're on a desktop, you'll see the `pointer-fine` styles applied, which make the touch targets smaller and more precise.

While `pointer-*` only targets the primary pointing device, `any-pointer-*` is used to target any of the pointing devices that might be available.

---

## Align items with `items-baseline-last`

When working with flex or grid layouts, sometimes you need to align something to the baseline of the last line of text rather than the end of the container. The new `items-baseline-last` utility does just that:

<Figure>

<Example padding={false}>

{

<div className="mx-auto grid max-w-md divide-y divide-gray-100 border-x border-x-gray-200 text-gray-700 dark:divide-gray-800 dark:border-x-gray-800 dark:bg-gray-950/10 dark:text-gray-300">
  <div className="group grid grid-cols-[1fr_auto] items-baseline-last gap-x-4 px-4 py-6 hover:bg-gray-50 dark:hover:bg-gray-950/50">
    <div className="grid grid-cols-[auto_1fr] gap-x-4 max-sm:grid-cols-1">
      <img
        className="size-[2rem] rounded-full"
        src="https://spotlight.tailwindui.com/_next/image?url=%2F_next%2Fstatic%2Fmedia%2Favatar.51a13c67.jpg&w=128&q=80"
        alt=""
      />
      <div className="font-semibold text-gray-900 sm:col-start-2 dark:text-white">Spencer Sharp</div>
      <p className="text-sm sm:col-start-2">Working on the future of astronaut recruitment at SpaceRecruit.</p>
    </div>
    <a
      href="#"
      className="font-mono text-xs font-medium text-gray-400 underline group-hover:text-blue-500 dark:text-gray-500"
    >
      spacerecruit.com
    </a>
  </div>
  <div className="group grid grid-cols-[1fr_auto] items-baseline-last gap-x-4 px-4 py-6 hover:bg-gray-50 dark:hover:bg-gray-950/50">
    <div className="grid grid-cols-[auto_1fr] gap-x-4 max-sm:grid-cols-1">
      <img
        className="size-[2rem] rounded-full"
        src="https://images.unsplash.com/photo-1590895340509-793cb98788c9?q=80&w=256&h=256&&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"
        alt=""
      />
      <div className="font-semibold text-gray-900 sm:col-start-2 dark:text-white">Alex Reed</div>
      <p className="text-sm sm:col-start-2">A multidisciplinary designer.</p>
    </div>
    <a
      href="#"
      className="font-mono text-xs font-medium text-gray-400 underline group-hover:text-blue-500 dark:text-gray-500"
    >
      alex-reed.com
    </a>
  </div>
</div>

}

</Example>

```html
<!-- [!code classes:items-baseline-last] -->
<div class="group grid grid-cols-[1fr_auto] items-baseline-last gap-x-4 px-4 py-6">
  <div class="grid grid-cols-[auto_1fr] gap-x-4">
    <img src="img/profile.jpg" />
    <h4>Spencer Sharp</h4>
    <p>
      Working on the future of astronaut recruitment
      <span> @spacerecruit</span>.
    </p>
  </div>
  <p class="text-lg group-hover:text-blue-500">spacerecruit.com</p>
</div>
```

</Figure>

---

## Keep content visible with `safe` alignment

Ever had center aligned content overflow in both directions when the container got too small? Now you don't have to use a container query to switch the alignment at different sizes.

The new `safe` alignment utilities will change the alignment to `start` when the container starts to overflow, so it only overflows in one direction.

<Figure hint="Resize the container to see the alignment change"  >

<Example resizable>
  
{

<div className="mx-auto flex flex-col items-center-safe">
  <h2 className="text-center text-base font-semibold text-gray-900 dark:text-gray-200">Select a category to filter:</h2>
  <ul className="flex gap-2 pt-4 text-sm text-sky-600 *:rounded-full *:border *:border-sky-100 *:bg-sky-50 *:px-2 *:py-0.5 dark:text-sky-300 dark:*:border-sky-500/15 dark:*:bg-sky-500/10">
    <li>Sales</li>
    <li>Marketing</li>
    <li>SEO</li>
    <li>Analytics</li>
    <li>Design</li>
    <li>Strategy</li>
    <li>Growth</li>
    <li>UX/UI</li>
  </ul>
</div>
}

</Example>

```html
<!-- [!code classes:items-center-safe] -->
<div class="mx-auto flex flex-col items-center-safe">
  <h2 class="text-center">Select a category to filter:</h2>
  <ul
    class="*:rounded-full *:border *:border-sky-100 *:bg-sky-50 *:px-2 *:py-0.5 dark:text-sky-300 dark:*:border-sky-500/15 dark:*:bg-sky-500/10 ..."
  >
    <li>Sales</li>
    <li>Marketing</li>
    <li>SEO</li>
    <!-- ... -->
  </ul>
</div>
```

</Figure>

These utilities work with both flexbox and grid layouts, and are available for all alignment properties.

---

## Ignore specific paths with `@source not`

Sometimes you need to specifically exclude some parts of your code base from being scanned by Tailwind. Now you can use `@source not` to ignore specific paths when scanning for class names:

```css
/* [!code filename:CSS] */
@import "tailwindcss";
/* [!code highlight:2] */
@source not "src/components/legacy";
```

This is useful when you have a large number of files in your project, but only want to scan a specific subset of them.

---

## Safelist specific utilities with `@source inline(…)`

If you need to make sure Tailwind generates certain class names that don’t exist in your content files, you can force them to be inlined by using `@source inline()`:

<CodeExampleStack>

```css
/* [!code filename:CSS] */
@import "tailwindcss";
/* [!code highlight:2] */
@source inline("underline");
```

```css
/* [!code filename:Generated CSS] */
.underline {
  text-decoration: underline;
}
```

</CodeExampleStack>

This is the equivalent of the `safelist` configuration option in previous versions of Tailwind, but now you can use it in your CSS files instead of your config file.

The source input is [brace-expanded](https://www.gnu.org/software/bash/manual/html_node/Brace-Expansion.html), so you can generate multiple classes at once. For example, to generate all the red shades with hover variants, you can add a range to the source input:

<CodeExampleStack>
```css
/* [!code filename:CSS] */
@import "tailwindcss";
/* [!code highlight:2] */
@source inline("{hover:,}bg-red-{50,{100..900..100},950}");
```

```css
/* [!code filename:Generated CSS] */
.bg-red-50 {
  background-color: var(--color-red-50);
}
.bg-red-100 {
  background-color: var(--color-red-100);
}
.bg-red-200 {
  background-color: var(--color-red-200);
}

/* ... */

.bg-red-800 {
  background-color: var(--color-red-800);
}
.bg-red-900 {
  background-color: var(--color-red-900);
}
.bg-red-950 {
  background-color: var(--color-red-950);
}
@media (hover: hover) {
  .hover\\:bg-red-50:hover {
    background-color: var(--color-red-50);
  }

  /* ... */

  .hover\\:bg-red-950:hover {
    background-color: var(--color-red-950);
  }
}
```

</CodeExampleStack>
This will generate shades of red from 100 to 900 in increments of 100, along with the first and last shades of 50 and 950. It also adds the `hover:` variant for each of those classes.

You can also use `@source inline()` with the `not` modifier to exclude specific classes from being generated:

```css
/* [!code filename:CSS] */
@import "tailwindcss";
/* [!code highlight:2] */
@source not inline("{hover:,focus:,}bg-red-{50,{100..900..100},950}");
```

This will specifically exclude the shades of red from 50 to 950, along with their hover and focus variants, from being generated even if they are detected in your source files.

For more details on how to use `@source inline()`, check out the [detecting classes in source files](docs/detecting-classes-in-source-files#safelisting-specific-utilities) documentation.

---

## A bunch of new variants

### Prettier accordions with `details-content`

While you could always add styles to the children of a `<details>` element, it's been impossible to style the content container itself. The `details-content` variant targets the content container which is useful for positioning the content container relative to the `<summary>` element:

<Figure>
  <Example>
    {
    <div className="mx-auto max-w-lg">
      <details className="rounded-lg border border-transparent p-6 details-content:mt-3 details-content:-ml-0.5" open>
        <summary className="text-sm leading-6 font-semibold text-gray-900 select-none dark:text-white">
          Why do they call it Ovaltine?
        </summary>
        <div
          className="list-inside list-disc rounded-lg border border-gray-200 bg-gray-50 py-3 pl-3 text-sm leading-6 text-gray-600 dark:border-white/10 dark:bg-gray-800/50 dark:text-gray-400"
        >
          <p>The mug is round. The jar is round. They should call it Roundtine.</p>
        </div>
      </details>
    </div>
    }
  </Example>

```html
<!-- [!code classes:details-content:mt-3,details-content:-ml-0.5] -->
<details class="rounded-lg border border-transparent p-6 details-content:mt-3 details-content:-ml-0.5" open>
  <summary class="text-sm leading-6 font-semibold text-gray-900 select-none dark:text-white">
    Why do they call it Ovaltine?
  </summary>
  <div class="border-gray-200 bg-gray-50 py-3 pl-3  dark:border-white/10 dark:bg-gray-800/50 ...">
    <p>The mug is round. The jar is round. They should call it Roundtine.</p>
  </div>
</details>
</Figure>
```

</Figure>

---

## Target `inverted-colors` mode

Use the `inverted-colors` variant to conditionally add styles when the user has enabled an inverted color scheme:

```html
<!-- [!code classes:inverted-colors:shadow-none] -->
<div class="shadow-xl inverted-colors:shadow-none ...">
  <!-- ... -->
</div>
```

This is particularly useful for preventing black shadows being turned white when the user has enabled an inverted color scheme.

---

## New `noscript` variant

Yes, some people disable JavaScript and now you can tell them your app doesn't work without it. The `noscript` variant lets you conditionally apply styles when `scripting` is disabled:

```html
<div class="hidden noscript:block">Please enable JavaScript to use this app.</div>
```

---

## Better form validation with `user-valid` and `user-invalid`

It could be a little tricky to style form elements based on their validation state, but now you can use the new `user-valid` and `user-invalid` variants to apply validation styles to inputs only after the user has interacted with them:

```html
<!-- [!code classes:user-valid:border-green-500,user-invalid:border-red-500] -->
<input required class="border user-valid:border-green-500" />
<input required class="border user-invalid:border-red-500" />
```

---

These are just some of the highlights — for all the details, check out the [release
notes](https://github.com/tailwindlabs/tailwindcss/releases) on GitHub. Ready to try it out? Update to the latest
version using npm:

```sh
npm install tailwindcss@latest
```

Let us know what you build with these new features!
